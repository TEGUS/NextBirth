<ion-header>
  <navbar [title]="'Calendar'"></navbar>
</ion-header>

<ion-content padding>
  <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
    <h5>Contraception</h5>
  </div>

  <div class="calendar-header">
    <ion-row class="calendar-weekday">
      <ion-col>DIM</ion-col>
      <ion-col>LUN</ion-col>
      <ion-col>MAR</ion-col>
      <ion-col>MER</ion-col>
      <ion-col>JEU</ion-col>
      <ion-col>VEN</ion-col>
      <ion-col>SAM</ion-col>
    </ion-row>
  </div>
  <div class="calendar-body">
    <ion-row class="calendar-month">
      <ion-col col-2 (click)="goToLastMonth()">
        <!--<ion-icon name="arrow-back"></ion-icon>-->
      </ion-col>
      <ion-col col-8 class="currentMonth">{{currentMonth}} {{currentYear}}</ion-col>
      <ion-col col-2 (click)="goToNextMonth()">
        <!--<ion-icon name="arrow-forward"></ion-icon>-->
      </ion-col>
    </ion-row>

    <ion-grid>
      <ion-row class="calendar-date">
        <ion-col col-1 *ngFor="let lastDay of daysInLastMonth" class="last-month" (click)="goToLastMonth()">
          {{lastDay.day}}
        </ion-col>
        <ion-col col-1 *ngFor="let day of daysInThisMonth" (click)="selectDate(day)">
          <span class="event" [style.background-color]="day.color"
                *ngIf="currentDate != day.day && day.color != 'white'">
            {{day.day}}
          </span>
          <div *ngIf="day.color == 'white'">
            <span class="currentDate" *ngIf="currentDate === day.day; else otherDate">{{day.day}}</span>
            <ng-template #otherDate class="otherDate">{{day.day}}</ng-template>
          </div>
        </ion-col>
        <ion-col col-1 *ngFor="let nextDay of daysInNextMonth" class="next-month" (click)="goToNextMonth()">
          {{nextDay.day}}
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-grid class="showpreviousnext">
      <ion-row (click)="goToLastMonth()">{{previousMonth | slice:0:3}}.</ion-row>
      <ion-row (click)="goToNextMonth()">{{nextMonth | slice:0:3}}.</ion-row>
    </ion-grid>
  </div>
</ion-content>
